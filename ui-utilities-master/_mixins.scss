//
// background image utilities
//
@mixin bg-img($url) {
  background-image: url($url);
}

@mixin bg-img-2x($url) {
  @media only screen and (min-width: 1024px) and (min-resolution: 192dpi) {
    background-image: url(img-res-double($url));
  }
}

//
// creates media queries for both 1x and 2x resolutions of a background image
// start with the url for the '1x' version of the image
//
@mixin bg-interchange-retina($url:'https://apps.weber.edu/wsuimages/davidbrogan/images/night-star-filter-overlay-1x.jpg') {
  @include bg-img($url);
  @include bg-img-2x($url);
}

@mixin bg-img-placement($pos-x:center, $pos-y:center) {
  background-repeat: no-repeat;
  background-size: cover;
  background-position: $pos-x $pos-y;
}

//
// flex utilities-master-block
//
@mixin flex-row($align, $justify) {
  display: flex;
  flex-direction: row;
  align-items: $align;
  justify-content: $justify;
}

@mixin flex-column($align, $justify) {
  display: flex;
  flex-direction: column;
  align-items: $align;
  justify-content: $justify;
}

@mixin build-container-size($pad-vert, $pad-horiz, $max-width, $max-height:null) {
  padding: $pad-vert $pad-horiz;
  max-width: $max-width;
  max-height: $max-height;
}

//
// calculates a consistent width to height ratio
// based either on an aspect ratio (ex.: 16:9)
// or the pixel dimensions of the original image
//
@mixin aspect-ratio($container-width:100vw, $aspect-width:16, $aspect-height:9) {
  $height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
  @if $aspect-width == 2 and $aspect-height == 1 {
    &--aspect-2-1 {
      height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
    }
  } @else if $aspect-width == 3 and $aspect-height == 2 {
    &--aspect-3-2 {
      height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
    }
  } @else if $aspect-width == 4 and $aspect-height == 3 {
    &--aspect-4-3 {
      height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
    }
  } @else if $aspect-width == 16 and $aspect-height == 9 {
    &--aspect-16-9 {
      height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
    }
  } @else if $aspect-width == 21 and $aspect-height == 9 {
    &--aspect-21-9 {
      height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
    }
  } @else if $aspect-width == 4 and $aspect-height == 1 {
    &--aspect-4-1 {
      height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
    }
  } @else {
    &--aspect-source {
      height: #{$height};
    }
  }
}

//
// like the aspect-ratio mixin but for custom width and height only
//
@mixin aspect-ratio-source($container-width:100vw, $aspect-width, $aspect-height) {
  $height: calc(#{$container-width} * (#{$aspect-height} / #{$aspect-width}));
  &--aspect-#{$aspect-width}-#{$aspect-height} {
    height: #{$height};
  }
}

//
// generates css for feature-box elements * theme colors (palette)
// allows for theming by adding ".-theme-name"modifier to module root node
//
@mixin feature-box-themes {
  $self: &;
  @each $name, $color in $color-names {
    &.-#{$name}-theme {
      $theme-color: wsu-palette($color, 1);
      #{$self}__title {
        background-color: $theme-color;
      }
      #{$self}__button {
        background-color: $theme-color;
        &:hover {
          background-color: lighten($theme-color, 10%);
        }
      }
    }
  }
}

@mixin card-module-themes {
  $self: &;
  @each $name, $color in $color-names {
    &.-#{$name}-theme {
      $theme-color: wsu-palette($color, 1);
      #{$self}__header {
        background-color: $theme-color;
      }
      #{$self}__button {
        background-color: $theme-color;
        &:hover {
          background-color: lighten($theme-color, 10%);
        }
      }
    }
  }
}

@mixin card-overlay-themes {
  $self: &;
  @each $name, $color in $color-names {
    &.-#{$name}-theme {
      $theme-color: wsu-palette($color, 1);
      #{$self}__link {
        color: $theme-color;
        &:hover {
          color: darken($theme-color, 20%);
        }
      }
      #{$self}__button {
        background-color: $theme-color;
        &:hover {
          background-color: darken($theme-color, 20%);
        }
      }
    }
  }
}



@mixin theme-maker-block($block-name, $modifier-name) {
  &__#{$block-name} {
    #{".-" + $modifier-name} {
      background-color: $modifier-name;
    }
  }
}

@mixin theme-maker-element($element-name, $modifier-name) {
  &__#{$element-name} {
    #{".-" + $modifier-name} {
      background-color: $modifier-name;
    }
  }
}